# App指令文檔

[TOC]



## 文档更新：

### 2020.03.26（1.1.7）

* 新增 Switch_direct_4_8 荷兰4/8键遥控器控制（0x32），Push-Dim（0x2F），Repeater_new_RTC（0x33）

### 2020.03.12（1.1.6）

* 新增套装组设备球泡灯（0x61~0x64），灯条（0x65~0x68），崁灯（0x69~0x6C）

### 2020.03.10（1.1.5）

* 修改Dimmer(0x52）调光器，可以设置调光bar调至1%的时候调光器固件自动转换对应的数值，命令更新至文档特殊设备中

### 2020.02.24（1.1.4）

* 新增Dimmer(0x52)，调光器，只有开关/调亮度，并能添加到房间，可添加场景和排程功能

### 2019.12.20（1.1.3）

* 新增SceneSocket(0xC9)，功能同Relay一致，只有开关，并能添加到房间，可添加场景和排程功能
* 旧版本Socket(0x29)，不再进行维护

### 2019.11.14（1.1.2）

* 更新蓝牙广播包解析示例

### 2019.11.12（1.1.1）

* 新增蓝牙广播包解析示例


### 2019.10.31（1.1.0）

* 新增Repeater_new（类型id为0x2E，作用：只中继讯号，不更新Mesh网络时间）

* 修改Pir_lightsensor名称为 Photo_cell_Pir（光感PIR）
* 修改Remote_control名称为Switch_direct（蓝牙直控遥控器）

### 2019.09.20（1.0.0）

- 新增Pir_lightsensor（类型id为0x2C，作用：通过光感检测开启或者停止PIR动作）
- 新增Remote_control（类型id为0x2D，作用：通过蓝牙遥控器直接控制灯具）

* 修改Remote名称为Fan_control（风扇名称与遥控器相似，修改）

* 修改部分文本错误



## 一：UUID与蓝牙广播包

```markdown
====================== UUID ==========================
原始UUID：
Service UUID: "00010203-0405-0607-0809-0a0b0c0d1910"
Notify UUID: "00010203-0405-0607-0809-0a0b0c0d1911" (打开通知接收信息通道)
Command UUID: "00010203-0405-0607-0809-0a0b0c0d1912" (发送指令通道)
Pair UUID: "00010203-0405-0607-0809-0a0b0c0d1914" （登录与重置配置通道）
OTA UUID: "00010203-0405-0607-0809-0a0b0c0d1913" （OTA更新固件通道）

第二厂家UUID（极少使用）
Service UUID: "4A425453-4720-4D65-7368-204C45441910"
Notify UUID: "4A425453-4720-4D65-7368-204C45441911" (打开通知接收信息通道)
Command UUID: "4A425453-4720-4D65-7368-204C45441912" (发送指令通道)
Pair UUID: "4A425453-4720-4D65-7368-204C45441914" （登录与重置配置通道）
OTA UUID: "4A425453-4720-4D65-7368-204C45441913" （OTA更新固件通道）

==================== 蓝牙广播包 =======================
蓝牙广播包部分：

蓝牙广播包示例：
2.40及以上扫描到的广播包
02:01:05:08:09:67:75:6F:64:6F:6E:67:09:FF:11:02:11:02:E7:1D:
8B:5F:1E:FF:11:02:11:02:E7:1D:8B:5F:2B:00:01:E7:00:01:12:03:
02:04:02:00:01:02:03:04:05:06:07:08:09:00:00:00:00:00:00:00:
00:00
2.40以下扫描到的广播包
02:01:05:08:09:67:75:6F:64:6F:6E:67:09:FF:11:02:11:02:CC:5A:
00:10:1E:FF:11:02:11:02:CC:5A:00:10:04:00:01:CC:00:00:01:02:
03:04:05:06:07:08:09:0A:0B:0C:0D:0E:0F:00:00:00:00:00:00:00:
00:00

解析
2.40及以上固件显示（guodong账号）
前一个字节代表后面字节个数，第二个字节代表识别类型
02:01:05:（带2个字节，类型01）
08:09（带8个字节，类型09）
	:67:75:6F:64:6F:6E:67:（账户名）
09:FF:11:02:11:02:E7:1D:8B:5F:（带9个字节，类型FF）
1E:FF（带30个字节，类型FF）
	:11:02 （Telink识别号）
	:11:02（Telink识别号）
	:E7:1D:8B:5F（Mac后四位）
	:2B:00（设备类型0x002B）
	:01（设备状态，始终为0x01，直接显示开状态）
	:E7:00（设备Mesh地址0x00E7）
	:01（灯具厂商ID，未使用）
	:12（灯具产品ID，未使用）
	:03（设备模块类型，01=8266， 02=8267， 03=8269）（固件2.40及以上才有）
	:02:04:02（设备模块版本号2.42）（固件2.40及以上才有）
	:00:01:02:03:04:05:06:07:08:09:00（此处解析完毕，广播包就会从00开始叠加）
:00:00:00:00:00:00:00:00


之前固件显示（guodong账号）
前一个字节代表后面字节个数，第二个字节代表识别类型
02:01:05:（带2个字节，类型01）
08:09（带8个字节，类型09）
	:67:75:6F:64:6F:6E:67:（账户名）
09:FF:11:02:11:02:CC:5A:00:10:（带9个字节，类型FF）
1E:FF（带30个字节，类型FF）
	:11:02（Telink识别号）
	:11:02（Telink识别号）
	:CC:5A:00:10（Mac后四位）
	:04:00（设备类型0x0004）
	:01（设备状态，始终为0x01，直接显示开状态）
	:CC:00（设备Mesh地址0x00CC）
	:00（此处解析完毕，广播包就会从00开始叠加）
	:01
	:02
	:03:04:05（2.40及以上这里是版本号，因为这里是从00开始叠加的数据，所以这里可以用这个方法进行新旧固件解析区分，用第一个字节+1所得值与后一个字节作比较，然后后一个字节+1所得值与再后一个字节做比较，如果都相等则是旧版本，2.40之前的固件，即3+1=4并且4+1=5，即是旧版本固件，因为新版本比如02:04:01,表示2.41，2+1!=4所以不是旧版本固件，后期固件版本更新会避免版本号这块连续数字的出现）
	:06:07:08:09:0A:0B:0C:0D:0E:0F
:00:00:00:00:00:00:00:00:00

```

## 二：设备类型

| 设备类型ID  | 设备名称                                           | 设备功能                                                     |
| ----------- | -------------------------------------------------- | ------------------------------------------------------------ |
| 0x01 ~ 0x04 | 灯泡（SC，CX，RGB，RGBCX）                         | X                                                            |
| 0x05 ~ 0x08 | 灯条（SC，CX，RGB，RGBCX）                         | X                                                            |
| 0x09 ~ 0x0C | 崁灯（SC，CX，RGB，RGBCX）                         | X                                                            |
| 0x0D ~ 0x10 | 平板灯（SC，CX，RGB，RGBCX）                       | X                                                            |
| 0x11 ~ 0x14 | 轨道灯（SC，CX，RGB，RGBCX）                       | X                                                            |
| 0x61 ~ 0x64 | 套装组灯泡（SC，CX，RGB，RGBCX）                   | X                                                            |
| 0x65 ~ 0x68 | 套装组灯条（SC，CX，RGB，RGBCX）                   | X                                                            |
| 0x69 ~ 0x6C | 套装组崁灯（SC，CX，RGB，RGBCX）                   | X                                                            |
|             | 通用灯具（SC，CX，RGB，RGBCX）                     | X                                                            |
| 0x41 ~ 0x44 | Smart driver（SC，CX，0x43/0x44 暂时用不到，保留） | X                                                            |
| 0x45 ~ 0x48 | 泛光灯（SC，CX，RGB，RGBCX）                       | X                                                            |
| 0x49 ~ 0x4C | 吸顶灯（SC，CX，RGB，RGBCX）                       | X                                                            |
| 0x4D ~ 0x50 | 条形灯（SC，CX，RGB，RGBCX）                       | X                                                            |
| 0x51        | Relay继电器                                        | X                                                            |
| 0x52        | Dimmer调光器                                       | X                                                            |
| 0x1F        | Wall switch                                        | 墙控面板开关控制灯具                                         |
| 0x20        | Pir                                                | 人体感应控制灯具（OnOffDimCX）                               |
| 0x21        | Combo switch                                       | 墙控面板开关控制灯具（Wall+Scene）                           |
| 0x22        | Scene switch                                       | 墙控面板开关控制灯具（Scene）                                |
| 0x23        | Hcl_12                                             | 时间流逝控制灯具（07:00-19:00）                              |
| 0x24        | Light sensor                                       | 光感检测控制灯具                                             |
| 0x25        | Dynamic scene（旧版本）（不维护）                  | 自动呼吸/颜色变化控制灯具                                    |
| 0x26        | Repeater                                           | 中继信号并同步时间                                           |
| 0x27        | Dynamic scene（新版本）                            | 自动呼吸/颜色变化控制灯具                                    |
| 0x28        | Detector                                           | 回路电流检测（实时功率&电压&电流）                           |
| 0x29        | Socket（旧版本）（不维护）                         | 蓝牙插座（可定时）                                           |
| 0x2A        | Fan_control                                        | 风扇控制（控制风扇转速&上下灯）                              |
| 0x2B        | Hcl_24                                             | 时间流逝控制灯具(00:00-23:00)                                |
| 0x2C        | Photo_cell_Pir                                     | 光感检测控制PIR动作                                          |
| 0x2D        | Switch_direct                                      | 蓝牙直控遥控器                                               |
| 0x2E        | Repeater_newR                                      | 只是中继信号                                                 |
| 0x2F        | Push-Dim                                           | 也叫调光器，功能同蓝牙直控遥控器基本一致，可开关/调光/调色温/切换场景 |
| 0x30        | Curtain（不维护）                                  | 蓝牙窗帘                                                     |
| 0x31        | Voice（开发中）                                    | X                                                            |
| 0x32        | Switch_direct_4_8                                  | 功能同蓝牙直控遥控器基本一致，可开关/调光/调色温/切换场景    |
| 0x33        | Repeater_new_RTC                                   | 功能同Repeater基本一致，中继信号并同步时间                   |
| 0xC9        | SceneSocket                                        | 同Relay继电器，起到开关功能                                  |

注意事项：

1，调光器：由于调光器可手动对硬体进行调节，也可用app控制调节，但是app控制，大多数灯具在亮度调为1%-31%时不会立即亮起来，所以固件做了限制，使得手机app调节亮度为1-100的区间自动变成[设置的数值]-100的区间

## 三：Mesh 基本指令格式组成

> 基本指令格式（文档数据起始都是从位置1开始，相当于程序代码的下标0）

| No.  | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9        | 10       | 11   | 12   | 13   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | -------- | -------- | ---- | ---- | ---- |
| data | Sn0  | Sn1  | Sn2  | src  | src  | dst  | dst  | cmd  | VendorID | VendorID | Par  | Par  | Par  |

[1:3] Sequence number。Sn0为低字节，每发一个命令Sequence number+1，并保证Sequence number不为0

[4:5] 源地址，对App来说固定是0x0000

[6:7] 目标地址，取值范围0x0000 ~ 0xFFFF，具体解析如下：

- ​	0x0000: 表示本地地址，只有和App直连的设备才会响应该指令

- ​	0x0001~0x00FF: 表示设备地址，用于单设备控制，只有对应的设备地址才会响应该指令

- ​	0x8000~0xFFFE: 表示房间地址，用于群组控制，只有对应的房间地址的设备才会响应该指令

- ​	0xFFFF: 表示广播地址，所有设备都会响应该指令

  

  对于设备来说，如果设备地址没有手动配置过，则设备地址默认等于设备MAC（例如FF:FF:33:18:19:31）的最低字节，即0x0031（高字节为0x00），如果MAC最低字节为0，则设备地址默认是0x0001

  设备Mesh地址分配的建议做法：

- ​	1）使用默认值

- ​	2）默认值会有重复的可能，解决方式一般是在App添加设备的时候为设备手动分配一个，后续继续加设备则地址+1

  

  App获取设备地址的方式：

- ​	1）在扫描设备的时候，广播包会广播设备的Mesh地址信息

- ​	2）在连接完设备后，设备的上报数据可以解析出设备Mesh地址



[8] 表示命令码

[9:10] 表示供应商ID，默认为 0x11 0x02

[11:13] 表示参数区，最多有10个字节，此处列举3个



## 四：具体指令

### 1 设备基础指令

#### 1.0 Mesh设备上报数据状态

> 当App连接完设备的时候，需要去打开直连设备的 “onLine status" 功能，使得设备可以回传网络的设备状态，方便后续对设备做状态更新的时候，能及时获取到当前状态

具体做法：

往 Notify UUID 发送指令（直接发送，不需要加密，除了本指令，其它指令都需要加密）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   01   |        |        |       |       |       |       |       |       |        |
| **11** | **12** | **13** |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|        |        |        |       |       |       |       |       |       |        |

TX 解析：

[1] 打开onLine status功能



RX 解析 :（直连客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   11   |   3C   |   64   |  FF   |  01   |  4B   |  31   |  64   |  00   |   02   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] [16:20] 分别是两个设备的上报数据

* [11] 设备的地址

* [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

* [13] 设备的亮度（0 ~ 100）

* [14] 对灯具来说保留，无意义

* [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

* [16] 第二个设备的地址

* [17] 0 表示设备离线（比如断电或者超距离），非0表示在线

* [18] 第二个设备的亮度（0 ~ 100）

* [19] 对灯具来说保留，无意义

* [20] 第二个设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 1.1 On_Light

开灯

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** | **12** | **13** |       |       |       |       |       |       |        |
|   01   |   01   |   00   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示开灯指令

[12:13] 01 00 表示延时1ms后开灯，两个值组成一个16位的数字



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 1.2 Off_Light

关灯

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** | **12** | **13** |       |       |       |       |       |       |        |
|   00   |   01   |   00   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示关灯指令

[12:13] 01 00 表示延时1ms后关灯，两个值组成一个16位的数字



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 1.3 Set_Lum

设置灯具亮度

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D2   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   0A   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置亮度的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示当前要设置的亮度值（0x00 ~ 0x64，即 0 ~ 100）



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 1.4 Set_CT

设置灯具色温

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E2   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   05   |  00   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示设置单个灯亮度的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示当前要设置的是色温值

[12] 表示CT值的百分比为0%（0x00 ~ 0xFF，即0 ~ 255）



RX 解析：

无数据回复



#### 1.5 Set_RGB

设置灯具RGB值

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E2   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   04   |  70   |  90   |  B0   |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置单个灯亮度的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示当前要设置的是RGB三个值

[12] 表示设置Red的索引值为0x70（0x00 ~ 0xFF，即0~255）

[13] 表示设置Green的索引值为0x90 （0x00 ~ 0xFF，即0~255）

[14] 表示设置Blue的索引值为0xB0 （0x00 ~ 0xFF，即0~255）



RX 解析：

无数据回复



#### 1.6 Get_Mac

获取设备的Mac地址

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   7F   |  B7   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示获取设备Mac地址的标识



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   B7   |  AA   |  FF   |  FF   |  46   |  E1   |  7D   |  20   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示获取设备Mac地址的标识1

[12] 表示获取设备Mac地址的标识2（帧头判断）

[13:18] 表示设备的Mac地址



#### 1.7 Change_Address

设置灯具的Mesh address

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E0   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   09   |  00   |  20   |  7D   |  E1   |  46   |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置设备地址的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示当前的设备 Mesh address改为0x0009

[13:16] 表示要修改的设备MAC低四位

* MAC的获取方式

​	1）在扫描蓝牙的时候可以获取到

​	2）发送获取MAC指令可以获取到（需要固件版本在2.40以上）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  09   |  00   |  FF   |  FF   |  E1   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   09   |  00   |       |       |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000，因为设备地址修改成0x0009，所以会用新地址返回

[6:7] 加密算法校验用

[8] 表示修改设备地址回复的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示当前设置完成的Mesh address，可用来判断是否修改成功



#### 1.8 Reset

重置设备，恢复出厂设置

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   02   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置设备地址的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示复位，恢复出厂设置



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 1.9 Music_Start

设置音乐开始，会保存当前灯具的状态

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D2   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   FE   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置亮度的命令码（为了简化命令，与调亮度指令命令码一致）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示音乐开启标识



RX 解析：

无数据回复



#### 1.10 Music_Stop

设置音乐停止，会恢复当前灯具的状态

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D2   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   FF   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示设置亮度的命令码（为了简化命令，与调亮度指令命令码一致）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示音乐停止标识



RX 解析：

无数据回复



#### 1.11 Set_time

设置时间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E4   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   E3   |  07   |  08   |  17   |  10   |  14   |  35   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取时间操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示年份为0x07E3，即为2019年

[13] 表示月份为0x08，即为8月

[14] 表示日为0x17，即为23号

[15] 表示小时为0x10，即为16点

[16] 表示分钟为0x14，即为20分

[17] 表示秒为0x35, 即为53秒



RX 解析：

无数据回复



### 2 群组指令

#### 2.1 Add_Group

添加设备进群组

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   01   |  01   |  80   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示添加群组的标识

[12:13] 表示要添加的群组号为0x8001（组目前App限制在0x8001 ~ 0x8008，只允许设备添加到这8个群组）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  09   |  00   |  FF   |  FF   |  D4   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   01   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |   FF   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示组操作结果的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:20] 表示存在房间01，App需要高位添加0x80，形成0x8001 ,变成一个组地址，FF则为不存在组地址



#### 2.2 Del_Group

删除设备的群组信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   00   |  01   |  80   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示删除群组的标识

[12:13] 表示要删除的群组号为0x8001



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  09   |  00   |  FF   |  FF   |  D4   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |   FF   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示组操作结果的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:20] 表示存在房间01，App需要高位添加0x80，形成0x8001 ,变成一个组地址，FF则为不存在组地址



#### 2.3 Get_Group_Number_8

获取设备的所有房间号

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  DD   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000，即本地直连的设备

[8] 表示获取群组号命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数（App上设置0x7F）

[12] 表示要直接获取8个房间号



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D4   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   01   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |  FF   |   FF   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示获取群组号操作结果的命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:20] 表示存在房间01，App需要高位添加0x80，形成0x8001 ,变成一个组地址，FF则为不存在组地址



### 3 场景指令

#### 3.1 Add_Scene

添加设备场景信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EE   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   01   |  01   |  3C   |  1B   |  43   |  FB   |  00   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示场景操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示添加场景标识

[12] 表示场景Id

[13:17] 表示设备在此场景的信息

* [13] 设备在此场景的亮度

* [14:16] 设备在此场景的RGB

* [17] 设备在此场景的色温

  

RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   00   |  0A   |  01   |  3C   |  1B   |  43   |  FB   |  00   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示添加场景结果回复

[13] 表示场景Id

[14:18] 表示设备在此场景的信息

- [14] 设备在此场景的亮度
- [15:17] 设备在此场景的RGB
- [18] 设备在此场景的色温



#### 3.2 Del_Scene

删除场景

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EE   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   00   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示场景操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示删除场景标识

[12] 表示场景Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   00   |  0B   |  01   |       |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示删除场景结果回复

[13] 表示场景Id



#### 3.3 Enable_Scene

开启场景

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EF   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   01   |  00   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示场景开启关闭操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示场景Id

[12] 表示开启场景



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 3.4 Disable_Scene

关闭场景

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EF   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   01   |  02   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示场景开启关闭操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示场景Id

[12] 表示关闭场景



RX 解析：（所有客户端都可响应）

Mesh设备上报数据状态



#### 3.5 Get_Scene_Size

获取场景的个数

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  C0   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   80   | FF/FE |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示获取场景信息命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数（App上设置0x80）

[12] FF 表示获取前8个场景 ，FE表示获取后8个场景（因为场景最大可以设置16个，所以需要全部获取的话，需要发两条信息）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  C1   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   01   |  02   |  00   |  00   |  00   |  00   |  00   |  00   |  00   | FF/FE  |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示场景信息返回命令码

[9:10] 表示厂商ID，默认 0x11 0x02, 不需要改动

[11:19] 表示场景Id

[20] FF 表示获取前8个场景 ，FE表示获取后8个场景（因为场景最大可以设置16个，所以需要全部获取的话，需要发两条信息）



#### 3.6 Get_Scene_Info

获取设备的场景信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  C0   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   80   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取场景信息命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数（App上设置0x80）

[12] 表示要获取的场景Id



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  C1   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   01   |  64   |  0F   |  0F   |  0F   |  6B   |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示场景信息返回命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示场景Id

[12] 表示设备在此场景的亮度

[13:15] 表示设备在此场景的RGB值

[16] 表示设备在此场景的色温值



#### 3.7 Set_Scene_Info

设置场景信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EE   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   01   |  01   |  3C   |  F5   |  EE   |  06   |  00   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示场景操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11]  表示修改场景标识（与添加场景一致，修改跟添加一样的操作）

[12] 表示场景Id

[13] 表示设备在此场景的亮度

[14:16] 表示设备在此场景的RGB值

[17] 表示设备在此场景的色温值



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   00   |  0A   |  01   |  3C   |  F5   |  EE   |  06   |  00   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示修改场景结果回复（与添加场景一致，修改跟添加一样的操作）

[13] 表示场景Id

[14:18] 表示设备在此场景的信息

- [14] 设备在此场景的亮度
- [15:17] 设备在此场景的RGB
- [18] 设备在此场景的色温



### 4 排程指令

#### 4.1 Add_Sche

添加排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E5   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   02   |  01   |  80   |  08   |  16   |  14   |  07   |  00   |  00   |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示添加排程的标识

[12] 表示排程Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene

- bit4~bit6：闹钟的类型，0 = day，1 = week

- bit7：使能失能 


[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分

[18] 秒

[19] 启用的场景Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   00   |  0C   |  02   |  01   |  80   |  08   |  16   |  14   |  07   |   00   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示排程添加标识

[14] 表示排程Id

[15] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene

- bit4~bit6：闹钟的类型，0 = day，1 = week

- bit7：使能失能 


[16] 如果闹钟类型是day，则表示月份，如果是week，则无效

[17] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[18] 时

[19] 分

[20] 启用的场景Id



#### 4.2 Del_Sche

删除排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E5   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   01   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示删除闹钟的标识

[12] 表示要删除的闹钟Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   00   |  0C   |  01   |  01   |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示删除排程的标识

[14] 表示排程Id



#### 4.3 Enable_Sche

使能排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E5   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   03   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能排程的标识

[12] 表示排程Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   00   |  0C   |  03   |  01   |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示使能排程的标识

[14] 表示排程Id



#### 4.4 Disable_Sche

失能排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E5   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   04   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能排程的标识

[12] 表示排程Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   00   |  0C   |  04   |  01   |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示失能排程的标识

[14] 表示闹钟Id



#### 4.5 Get_Sche_Size

获取设备的排程个数

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E6   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   80   | FF/FE |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取排程数据命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数（App上设置0x80）

[12] FF 表示获取前8个排程 ，FE表示获取后8个排程（因为排程最大可以设置16个，所以需要全部获取的话，需要发两条信息）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   01   |  02   |  00   |  00   |  00   |  00   |  00   |  00   |  00   | FF/FE  |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示排程信息返回命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:19] 表示排程Id

[20] FF 表示获取前8个排程 ，FE表示获取后8个排程（因为排程最大可以设置16个，所以需要全部获取的话，需要发两条信息）



#### 4.6 Get_Sche_Info

获取设备的排程信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E6   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   80   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取排程数据命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数（App上设置0x80）

[12] 表示排程Id



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   A5   |  01   |  82   |  07   |  14   |  09   |  18   |  00   |  01   |   01   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示排程信息返回命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示该闹钟数据有效

[12] 表示闹钟Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene

- bit4~bit6：闹钟的类型，0 = day，1 = week

- bit7：使能失能 


[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分

[18] 秒

[19] 启用的场景Id

[20] 表示设备闹钟的总个数，目前无效



#### 4.7 Set_Sche_Info

修改排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E5   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   02   |  01   |  80   |  08   |  16   |  14   |  07   |  00   |  00   |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示修改排程标识（与添加排程一致，修改跟添加一样的操作）

[12] 表示排程Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene

- bit4~bit6：闹钟的类型，0 = day，1 = week

- bit7：使能失能 


[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分

[18] 秒

[19] 启用的场景Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   00   |  0C   |  02   |  01   |  80   |  08   |  16   |  14   |  07   |   00   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示排程修改

[14] 表示排程Id

[15] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene

- bit4~bit6：闹钟的类型，0 = day，1 = week

- bit7：使能失能 


[16] 如果闹钟类型是day，则表示月份，如果是week，则无效

[17] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[18] 时

[19] 分

[20] 启用的场景Id



## 五：传感器指令

### 1 Wall_switch

#### 1.0 Wallswitch_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  1F   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密校验

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 无意义

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 1.1 Wallswitch_start_pair

开启配对

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   A3   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示配对操作

[12] 表示开始配对



RX 解析：

无数据回复



#### 1.2 Wallswitch_check_pair

检测配对结果

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A3   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示配对操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   A3   | 00/01 |       |       |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示配对操作

[12] 表示配对结果

* 00 ：配对未完成
* 01 ：配对完成



#### 1.3 Wallswitch_stop_pair

停止配对

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   A3   |  00   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示配对操作

[12] 表示停止配对



RX 解析：

无数据回复



#### 1.4 Wallswotch_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A5   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Wall switch获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   A5   |  A5   |  00   |  00   |  00   |  00   |  80   |  02   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Wall switch获取数据操作

[12] 表示操作类型是Wall switch（与后续Scene switch和Combo switch区别）

[13:16] 保留

[17:18] 表示绑定的组号为0x8002



#### 1.5 Wallswitch_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 2 Pir

#### 2.0 Pir_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  20   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 设备使能失能

  - 0A：使能
  - 0B：失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 2.1 Pir_enable

使能Pir

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A1   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Pir



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  FF   |  FF   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  20   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 0A表示Pir使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 2.2 Pir_disable

失能Pir

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A0   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Pir



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  FF   |  FF   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  20   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 0B表示Pir失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 2.3 Pir_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A4   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Pir获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   A4   |  3E   |  00   |  05   |  80   |  01   |  0D   |  00   |  00   |   00   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Pir获取数据操作

[12] 表示Pir感应后的灯具亮度

[13:14] 0x0005 表示Pir感应后的延时时间为5秒

[15:16] 表示绑定的组号为0x8001

[17] 表示Pir感应结束后的灯具亮度



#### 2.4 Pir_set_data_pir_info

设置Pir数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |       |       |       |       |        |
|   A4   |  00   |  14   |  3E   |  0D   |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Pir设置数据操作

[12:13] 0x0014 表示Pir感应后的延时时间为20秒（最大到0xFFFF, 即65535秒）

[14] 表示Pir感应后的灯具亮度

[15] 表示Pir感应结束后的灯具亮度



RX 解析：

无数据回复



#### 2.5 Pir_set_data_pir_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 3 Combo_switch

#### 3.0 Comboswitch_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  21   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 无意义

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 3.1  Comboswitch_start_pair

同 Wallswitch_start_pair



#### 3.2 Comboswitch_check_pair

检测配对结果

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A3   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示配对操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |       |       |       |       |        |
|   A3   | 00/01 |  00   |  00   |  00   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示配对操作

[12] 表示配对结果

- 00 ：配对未完成
- 01 ：配对完成

[13] 表示配对的类型

* 01 ：遥控器
* 10 ：开关面板

[14] 表示遥控器数量

* 配对模式
  * FF ：达到遥控器最大配对数量（4个）
  * CC ：遥控器重复配对了
  * 其它 ：遥控器当前配对数量 

* 解除配对模式
  * EE ：遥控器没有配对过
  * 其它 ：遥控器当前配对数量

[15] 表示开关面板数量

- 配对模式
  - FF ：达到开关面板最大配对数量（4个）
  - CC ：开关面板重复配对了
  - 其它 ：开关面板当前配对数量 

- 解除配对模式
  - EE ：开关面板没有配对过
  - 其它 ：开关面板当前配对数量



#### 3.3 Comboswitch_stop_pair

同 Wallswitch_stop_pair



#### 3.4 Comboswitch_start_unpair

开启解除配对

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   A3   |  02   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示配对操作

[12] 表示开始解除配对



RX 解析：

无数据回复



#### 3.5 Comboswitch_start_unpair_all

开启解除所有配对

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   A3   |  03   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示配对操作

[12] 表示开始解除所有配对



RX 解析：

无数据回复



#### 3.6 Comboswitch_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A5   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Combo switch获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |  80   |  02   |  02   |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Combo switch获取数据操作

[12:16] 表示绑定的场景Id 

[17:18] 表示绑定的组号为0x8002

[19] 表示当前控制模式

* 01 ：色温模式

* 02 ：场景模式 

  

#### 3.7 Comboswitch_set_data_mode

设置Combo switch 当前模式

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   A5   |  A5   |  01   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11]  表示Combo switch 设置数据操作

[12] 表示Combo switch设置模式标识

[13] 表示Combo switch模式

* 01 ：色温模式

* 02 ：场景模式 

  

RX 解析：

无数据回复



#### 3.8 Comboswitch_set_data_scene

设置Combo switch 场景数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Combo switch 设置数据操作

[12:16] 表示绑定的场景Id （场景最大可设置5个）



RX 解析：

无数据回复



#### 3.9 Comboswitch_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 4 Scene_switch

#### 4.0 Sceneswitch_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  22   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 无意义
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 4.1 Sceneswitch_start_pair

同Wallswitch_start_pair



#### 4.2 Sceneswitch_check_pair

同Wallswitch_check_pair



#### 4.3 Sceneswitch_stop_pair

同Wallswitch_stop_pair



#### 4.4 Sceneswitch_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A5   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Sceneswitch获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |  80   |  02   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Scene switch获取数据操作

[12:16] 表示绑定的场景Id 

[17:18] 表示绑定的组号为0x8002



#### 4.5 Sceneswitch_set_data_scene

设置Combo switch 场景数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Scene switch 设置数据操作

[12:16] 表示绑定的场景Id （场景最大可设置5个）



RX 解析：

无数据回复



#### 4.6 Sceneswitch_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 5 Hcl_12

#### 5.0 Hcl_12_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  23   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 0A：使能
  - 0B：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 5.1  Hcl_12_enable

使能Hcl_12

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A7   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Hcl_12



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  FF   |  FF   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  23   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 0A表示Hcl_12使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 5.2 Hcl_12_disable

失能Hcl_12

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A8   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Hcl_12



RX 解析 :（所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  23   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 0B表示Hcl_12失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 5.3 Hcl_12_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   10   |  A6   |  01   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Hcl_12获取数据操作

[13] 表示获取的时间段下标（0x01 ~ 0x0D）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   A6   |  00   |  00   |  05   |  00   |  00   |  80   |  01   |  0D   |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Hcl_12获取数据操作

[12] 表示时间段下标（查询的时间段下标为1，返回的下标则为0，以此类推）

[13] 表示时间段是否开启

* 00 ：关闭此时间段
* 01 ：开启此时间段

[14] 表示隔多久时间变化一次灯具的效果，这里为0x05，为5分钟变化一次（App默认设置5分钟）

[15] 表示此时间段设置的亮度

[16] 表示此时间段设置的色温

[17:18] 表示绑定的群组为0x8001

[19] 表示时间段的总数，Hcl_12默认是0x0D,即13个时间段（07:00 ~ 19:00）



#### 5.4 Hcl_12_set_data_info

设置Hcl_12 的时间段数据数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   A6   |  01   |  00   |  00   |  05   |  00   |  00   |  0D   |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Hcl_12设置数据操作

[12] 表示要设置的时间段下标（0x01~0x0D）

[13] 表示要设置的时间段下标（此处方便蓝牙解析，需要-1）（0x00 ~ 0x0C）

[14] 表示时间段是否开启

- 00 ：关闭此时间段
- 01 ：开启此时间段

[15] 表示隔多久时间变化一次灯具的效果，这里为0x05，为5分钟变化一次（App默认设置5分钟）

[16] 表示此时间段设置的亮度

[17] 表示此时间段设置的色温

[18] 表示时间段的总数，Hcl_12默认是0x0D,即13个时间段（07:00 ~ 19:00）



RX 解析：

无数据回复



#### 5.5 Hcl_12_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 6 Light_sensor

#### 6.0 Lightsensor_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  6B   |  24   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13:14] 表示设备的使能，失能，以及当前照度值

  - 0xFFFF：使能状态
  - 0x0000 ：失能状态
  - 其它：当前照度值

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 6.1 Lightsensor_enable

使能Lightsensor

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   B1   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Lightsensor



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   FF   |  FF   |  24   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密校验

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13:14] 0xFFFF表示使能Lightsensor
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 6.2 Lightsensor_disable

失能Lightsensor

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   B0   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Lightsensor



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  24   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密校验

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13:14] 0x0000表示失能Lightsensor
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 6.3 Lightsensor_get_data 

获取数据 

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  B4   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Lightsensor获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   B4   |  00   |  32   |  00   |  6E   |  80   |  01   |  00   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Lightsensor获取数据操作

[12:13] 表示期望值

[14:15] 表示照度最大值

[16:17] 表示绑定的群组号

[18] 表示亮度



#### 6.4 Lightsensor_set_data_info

设置数据 

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   B2   |  00   |  37   |  00   |  6F   |  64   |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Lightsensor设置数据操作

[12:13] 表示期望值

[14:15] 表示照度最大值

[16] 表示亮度



RX 解析：

无数据回复



#### 6.5 Lightsensor_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 7 Repeater

#### 7.0 Repeater_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  26   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 0A：使能
  - 0B：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 7.1  Repeater_enable

使能Repeater

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A7   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Repeater



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  26   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 0A表示Repeater使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 7.2 Repeater_disable

失能Repeater 

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A8   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Hcl_12



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  26   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 0B表示Repeater失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 7.3 Repeater_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E8   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   7F   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取时间命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E9   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   E3   |  07   |  08   |  17   |  10   |  14   |  35   |  FF   |  FF   |   FF   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示获取时间回复命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11:12] 表示年份为0x07E3，即为2019年

[13] 表示月份为0x08，即为8月

[14] 表示日为0x17，即为23号

[15] 表示小时为0x10，即为16点

[16] 表示分钟为0x14，即为20分

[17] 表示秒为0x35, 即为53秒

[18:20] 保留字节，无意义



#### 7.4 Repeater_set_data

设置Repeater时间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  E4   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   E3   |  07   |  08   |  17   |  10   |  14   |  35   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取时间操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示年份为0x07E3，即为2019年

[13] 表示月份为0x08，即为8月

[14] 表示日为0x17，即为23号

[15] 表示小时为0x10，即为16点

[16] 表示分钟为0x14，即为20分

[17] 表示秒为0x35, 即为53秒



RX 解析：

无数据回复



### 8 Dynamic_scene

#### 8.0 Dynamicscene_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  27   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 0A：使能
  - 0B：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 8.1 Dynamicscene_enable

使能Dynamicscene

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A7   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Dynamicscene



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  27   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 0A表示Dynamicscene使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 8.2 Dynamicscene_disable

失能Dynamicscene

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A8   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Dynamicscene



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  27   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 0B表示Dynamicscene失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 8.3 Dynamicscene_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  B6   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Dynamicsceneh获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   B6   |  22   |  01   |  02   |  83   |  84   |  85   |  06   |  07   |   01   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Dynamicscene获取数据操作

[12] 表示当前的模式和当前的速度

* bit0~bit3：速度挡位0 ~ A，即0 ~ 10
* bit4~bit7：1 = 呼吸模式，2 = 颜色变化模式

[13:19] 表示当前的颜色

* bit0~bit3：颜色下标
* bit4~bit7：0 = 关闭颜色，1 = 开始颜色

[20] 表示当前绑定的群组

* FF：表示选择全部0xFFFF
* 其它：需要在高位加上0x80, 例如01，加上0x80，则群组号码为0x8001



#### 8.4 Dynamicscene_set_data_info

设置Dynamicscene 的数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   A9   |  02   |  0A   |  02   |  83   |  84   |  85   |  06   |  07   |   01   |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Dynamicscene设置数据操作

[12] 表示当前设置模式

- 01：呼吸模式
- 02：颜色变化模式

[13] 表示当前设置的速度挡位，一共10档（0x00~0x0A）

[14:20] 表示当前设置的颜色

- bit0~bit3：颜色下标

- bit4~bit7：0 = 关闭颜色，1 = 开始颜色

  

RX 解析：

无数据回复



#### 8.5 Dynamicscene_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 9 Detector

#### 9.0 Detector_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  28   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 无意义
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 9.1 Detector_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  B9   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Detector获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   B9   |  00   |  08   |  00   |  E3   |  00   |  01   |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Detector获取数据操作

[12:13] 表示当前功率，[12]为功率高位，[13]为功率低位

[14:15] 表示当前电压，[14]为电压高位，[15]为电压低位

[16:17] 表示当前电流，[16] 表示整数位，[17] 表示小数位（需要换算成整数，然后/100）



### 10 Socket

#### 10.0 Socket_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  29   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 64：使能
  - 00：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 10.1 Socket_enable

使能Socket

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   11   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Socket



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   64   |  00   |  29   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密校验

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 64表示Socket使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 10.2 Socket_disable

失能Socket

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   10   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Socket



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  29   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 00表示Socket失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 10.3 Add_Sche

添加Socket排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  F1   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   02   |  01   |  80   |  08   |  16   |  14   |  07   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示Socket操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示添加排程的标识

[12] 表示排程Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene
- bit4~bit6：闹钟的类型，0 = day，1 = week
- bit7：使能失能 

[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   00   |  0C   |  02   |  01   |  80   |  08   |  16   |  14   |  07   |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示排程修改的标识

[14] 表示排程Id

[15] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene
- bit4~bit6：闹钟的类型，0 = day，1 = week
- bit7：使能失能 

[16] 如果闹钟类型是day，则表示月份，如果是week，则无效

[17] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[18] 时

[19] 分



#### 10.4 Del_Sche

删除排程

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  F1   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   01   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示Socket操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示删除闹钟的i标识

[12] 表示要删除的闹钟Id



RX 解析：（所有客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   00   |  0C   |  01   |  01   |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示排程操作回复

[13] 表示删除排程的标识

[14] 表示排程Id



#### 10.5 Socket_get_size

获取Socket排程个数

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E6   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   80   |  FF   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示获取排程数据命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12] FF 表示获取Socket的排程 （Socket的排程最大可以设置6个）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   01   |  02   |  03   |  04   |  05   |  06   |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示排程信息返回命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:16] 表示排程Id



#### 10.6 Socket_get_data_info

获取Socket的排程信息

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E6   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  01   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0xFFFF

[8] 表示获取排程数据命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12] 表示排程Id



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  E7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   A5   |  01   |  82   |  07   |  14   |  09   |  18   |  00   |  01   |   01   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示排程信息返回命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示该闹钟数据有效

[12] 表示闹钟Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene
- bit4~bit6：闹钟的类型，0 = day，1 = week
- bit7：使能失能 

[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分

[18] 秒

[19] 表示Socket闹钟的场景，目前无效

[20]  表示Socket的闹钟的总个数，目前无效



#### 10.7 Socket_set_data

修改Socket的闹钟

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  F1   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   02   |  01   |  80   |  08   |  16   |  14   |  07   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示Socket操作排程命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示修改排程的标识（与添加排程一致，修改跟添加一样的操作）

[12] 表示排程Id

[13] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene
- bit4~bit6：闹钟的类型，0 = day，1 = week
- bit7：使能失能 

[14] 如果闹钟类型是day，则表示月份，如果是week，则无效

[15] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[16] 时

[17] 分



RX 解析：（所有设备响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EA   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   00   |  0C   |  02   |  01   |  80   |  08   |  16   |  14   |  07   |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12]  表示Socket排程操作回复

[13] 表示修改排程的标识（与添加排程一致，修改跟添加一样的操作）

[14] 表示排程Id

[15] 解析

- bit0~bit3：闹钟的执行，0 = off，1 = on，2 = scene
- bit4~bit6：闹钟的类型，0 = day，1 = week
- bit7：使能失能 

[16] 如果闹钟类型是day，则表示月份，如果是week，则无效

[17] 如果闹钟类型是day，则表示日，如果是week，则表示星期，bit0~bit6：星期天(bit0) 星期一到六(bit1~bit6) bit7无效

[18] 时

[19] 分



### 11 Fan_Control

#### 11.0 Fan_Control_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   42   |  D0   |  2A   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 表示Fan_Control中风扇的速度

  - bit0 ~ bit5：风扇速度（最大为6）

- [14] 表示Fan_Control中下灯的模式与亮度

  - bit0 ~ bit3：下灯亮度（最大为8）
  - bit4 ~ bit5：0 = 冷暖色，1 = 冷色，2 = 暖色

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 11.1 Fan_Control_uplight_on

打开Remote的上灯

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   AA   |  22   |  01   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Fan_Control指令

[12] 表示操作上灯

[13] 表示开启上灯



RX 解析 :

无数据回复



#### 11.2 Fan_Control_uplight_off

关闭Fan_Control的上灯

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   AA   |  22   |  00   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Fan_Control指令

[12] 表示操作上灯

[13] 表示关闭上灯



RX 解析 :

无数据回复



#### 11.3 Fan_Control_set_downlight_mode_and_lum

设置Remote的下灯模式和亮度

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |       |       |       |       |       |        |
|   AA   |  33   |  01   |  01   |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Fan_Control指令

[12] 表示操作下灯

[13] 表示下灯的模式

* 00：冷暖色
* 01：冷色
* 02：暖色

[14] 表示下灯的亮度（0x00 ~ 0x08）



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   40   |  D1   |  2A   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 表示Fan_Control中风扇的速度
  - bit0 ~ bit5：风扇速度（最大为6）
- [14] 表示Fan_Control中下灯的模式与亮度
  - bit0 ~ bit3：下灯亮度（最大为8）
  - bit4 ~ bit5：0 = 冷暖色，1 = 冷色，2 = 暖色
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 11.4 Fan_Control_set_fan_speed

设置Remote的风扇速度

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   AA   |  11   |  02   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Fan_Control指令

[12] 表示操作风扇

[13] 表示风扇的速度（0x00 ~ 0x06）



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   42   |  D0   |  2A   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 表示Fan_Control中风扇的速度
  - bit0 ~ bit5：风扇速度（最大为6）
- [14] 表示Fan_Control中下灯的模式与亮度
  - bit0 ~ bit3：下灯亮度（最大为8）
  - bit4 ~ bit5：0 = 冷暖色，1 = 冷色，2 = 暖色
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 11.5 Fan_Control_start_study

开启学习

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   AA   |  44   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Fan_Control指令

[12] 表示开始配对的标识



RX 解析：

无数据回复



#### 11.6 Fan_Control_check_study

检测学习结果

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  BA   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示学习结果检测标识



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   BA   | 00/01 |       |       |       |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11]  表示学习结果检测标识

[12] 表示配对结果

- 00 ：学习未完成
- 01 ：学习完成



### 12 Hcl_24

#### 12.0 Hcl_24_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  2B   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 0A：使能
  - 0B：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 12.1  Hcl_24_enable

使能Hcl_24

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A7   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Hcl_24



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  2B   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 0A表示Hcl_12使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 12.2 Hcl_24_disable

失能Hcl_24

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A8   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Hcl_24



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  2B   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 0B表示Hcl_24失能

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 12.3 Hcl_24_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |  13   |       |       |       |       |       |       |        |
|   10   |  A6   |  01   |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Hcl_24获取数据操作

[13] 表示获取的时间段下标（0x01 ~ 0x18）



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |        |
|   A6   |  00   |  00   |  05   |  00   |  00   |  80   |  01   |  18   |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Hcl_24获取数据操作

[12] 表示时间段下标（查询的时间段下标为1，返回的下标则为0，以此类推）

[13] 表示时间段是否开启

- 00 ：关闭此时间段
- 01 ：开启此时间段

[14] 表示隔多久时间变化一次灯具的效果，这里为0x05，为5分钟变化一次（App默认设置5分钟）

[15] 表示此时间段设置的亮度

[16] 表示此时间段设置的色温

[17:18] 表示绑定的群组为0x8001

[19] 表示时间段的总数，Hcl_24默认是0x18,即24个时间段（00:00 ~ 23:00），此字节可能为0，App不需要解析到



#### 12.4 Hcl_24_set_data_info

设置Hcl_24 的时间段数据数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   A6   |  01   |  00   |  00   |  05   |  00   |  00   |  18   |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Hcl_24设置数据操作

[12] 表示要设置的时间段下标（0x01~0x18）

[13] 表示要设置的时间段下标（此处方便蓝牙解析，需要-1）（0x00 ~ 0x17）

[14] 表示时间段是否开启

- 00 ：关闭此时间段
- 01 ：开启此时间段

[15] 表示隔多久时间变化一次灯具的效果，这里为0x05，为5分钟变化一次（App默认设置5分钟）

[16] 表示此时间段设置的亮度

[17] 表示此时间段设置的色温

[18] 表示时间段的总数，Hcl_24默认是0x18,即24个时间段（00:00 ~ 23:00）



RX 解析：

无数据回复



#### 12.5 Hcl_24_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 13 Photo_cell_Pir

#### 13.0 Photo_cell_Pir_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  2C   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13:14] 表示设备的使能，失能，以及当前照度值

  - 0x0A00：使能状态
  - 0x0B00 ：失能状态
  - 其它：当前照度值

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 13.1 Photo_cell_Pir_enable

使能Photo-cell_pir

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A1   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能Photo_cell_Pir



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  FF   |  FF   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0A   |  00   |  2C   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13:14] 表示设备的使能，失能，以及当前照度值
  - 0x0A00：使能状态
  - 0x0B00 ：失能状态
  - 其它：当前照度值
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 13.2 Photo_cell_Pir_disable

失能Pir

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   A0   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能Photo_cell_Pir



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  FF   |  FF   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   0B   |  00   |  2C   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13:14] 表示设备的使能，失能，以及当前照度值

  - 0x0A00：使能状态
  - 0x0B00 ：失能状态
  - 其它：当前照度值

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 13.3 Photo_cell_Pir_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A4   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Photo_cell_Pir获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   A4   |  3E   |  00   |  05   |  80   |  01   |  0D   |  01   |  01   |   00   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Photo_cell_Pir获取数据操作

[12] 表示Photo_cell_Pir感应后的灯具亮度

[13:14] 0x0005 表示Photo_cell_Pir感应后的延时时间为5秒

[15:16] 表示绑定的组号为0x8001

[17] 表示Pir感应结束后的灯具亮度

[18:19] 表示设置的Photo_cell_Pir数值，[18]是数值高位，[19]是数值低位



#### 13.4 Photo_cell_Pir_set_data_pir_info

设置Photo_cell_Pir数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |       |       |        |
|   A4   |  00   |  14   |  3E   |  0D   |  01   |  01   |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Photo_cell_Pir设置数据操作

[12:13] 0x0014 表示Photo_cell_Pir感应后的延时时间为20秒（最大到0xFFFF, 即65535秒）

[14] 表示Photo_cell_Pir感应后的灯具亮度

[15] 表示Photo_cell_Pir感应结束后的灯具亮度

[16:17] 表示设置的Photo_cell_Pir数值，[16]是数值高位，[17]是数值低位



RX 解析：

无数据回复



#### 13.5 Photo_cell_Pir_set_data_pir_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 14 Switch_direct

#### 14.0 Switch_direct_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  2D   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址

- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线

- [13] 无意义

- [14] 无意义

- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

  

#### 14.1 Switch_direct_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  A5   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Switch_direct获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |       |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |  80   |  02   |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Switch_direct获取数据操作

[12:16] 表示绑定的场景Id 

[17:18] 表示绑定的组号为0x8002



#### 14.2 Switch_direct_set_data_scene

设置Remote_control 场景数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |       |       |       |        |
|   A5   |  01   |  02   |  03   |  04   |  05   |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Switch_direct设置数据操作

[12:16] 表示绑定的场景Id （场景最大可设置5个）



RX 解析：

无数据回复



#### 14.3 Switch_direct_set_data_group

绑定房间

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EC   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   02   |  80   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示绑定组操作命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11:12] 表示绑定的组号为0x8002



RX 解析：

无数据回复



### 15 Repeater_new

#### 15.0 Repeater_new_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  2E   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 0A：使能
  - 0B：失能（目前固件写死是只有0A状态，因为此设备不需要使能失能）
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

### 16 SceneSocket

#### 16.0 SceneSocket_online_status

RX 解析 :

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  C9   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 设备使能失能
  - 64：使能
  - 00：失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 16.1 SceneSocket_enable

使能Socket

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   11   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示使能SceneSocket



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   64   |  00   |  C9   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密校验

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 64表示Socket使能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）



#### 16.2 SceneSocket_disable

失能Socket

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D0   |  11   |   02   |
| **11** |       |       |       |       |       |       |       |       |        |
|   10   |       |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示开关灯命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示失能SceneSocket



RX 解析 : （所有客户端响应）

| **1**  | **2**  | **3**  | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :----: | :----: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |   11   |   11   |  00   |  00   |  00   |  00   |  DC   |  11   |   02   |
| **11** | **12** | **13** |  14   |  15   |       |       |       |       |        |
|   11   |   3C   |   00   |  00   |  C9   |       |       |       |       |        |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示上报数据标识

[9:10] 表示供应商ID

[11:15] 表示设备的上报数据

- [11] 设备的地址
- [12] 0 表示设备离线（比如断电或者超距离），非0表示在线
- [13] 00表示Socket失能
- [14] 无意义
- [15] 设备的类型（区别设备的种类，App用来产生不同的灯具）

#### 16.3，房间，场景（开启需要设置亮度值为十进制100，关闭需要设置亮度值为0），排程功能同Relay



### 17 Push-Dim

#### 17.0 Push-Dim_online_status

同Switch_Direct



#### 17.1 Push-Dim_get_data

同Switch_Direct



#### 17.2 Push-Dim_set_data_scene

同Switch_Direct



#### 17.3 Push-Dim_set_data_group

同Switch_Direct



### 18 Switch_direct_4_8

#### 18.0 Switch_direct_4_8_online_status

同Switch_Direct



#### 18.1Switch_direct_4_8_get_data

同Switch_Direct



#### 18.2 Switch_direct_4_8_set_data_scene

同Switch_Direct



#### 18.3 Switch_direct_4_8_set_data_group

同Switch_Direct



### 19 Repeater_new_RTC

#### 19.0 Repeater_new_RTC_online_status

同Repeater



#### 19.1  Repeater_new_RTC_enable

同Repeater



#### 19.2 Repeater_new_RTC_disable

- 同Repeater

  

#### 19.3 Repeater_new_RTC_get_data

同Repeater



#### 19.4 Repeater_new_RTC_set_data

同Repeater





## 六：特殊设备指令

### 1，Dimmer（调光器）

#### 1.0 Dimmer_set_data

设置Dimmer 调至 1%对应的亮度数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  D7   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   AB   |  00   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示组操作命令码（为了简化指令，复用同一个命令码）

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示Dimmer设置数据操作

[12] 表示Dimmer设置的app调光1%对应的实际亮度，范围 0x01-0x32，即1到50



RX 解析：

无数据回复



#### 1.1 Dimmer_get_data

获取数据

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  00   |  00   |  EA   |  11   |   02   |
| **11** |  12   |       |       |       |       |       |       |       |        |
|   10   |  BC   |       |       |       |       |       |       |       |        |

TX 解析：

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 表示目标地址为0x0000

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02, 不需要改动

[11] 表示App发送给直连设备的消息在Mesh中的转发次数

[12]  表示Dimmer获取数据操作



RX 解析：（直连客户端响应）

| **1**  | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **9** | **10** |
| :----: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :----: |
|   11   |  11   |  11   |  00   |  00   |  FF   |  FF   |  EB   |  11   |   02   |
| **11** |  12   |  13   |  14   |  15   |  16   |  17   |  18   |  19   |   20   |
|   BC   |  10   |  00   |  00   |  00   |  00   |  00   |  00   |  00   |   00   |

[1:3] 表示Sequence number

[4:5] 表示源地址为0x0000

[6:7] 加密算法校验用

[8] 表示用户自定义命令码

[9:10] 表示供应商ID，默认 0x11 0x02

[11] 表示Dimmer获取数据操作

[12] 表示Dimmer设置的app调光1%对应的实际亮度









